{"version":3,"names":["cov_1vtkdriva4","actualCoverage","s","core_1","require","auth","tslib_1","__importStar","auth_1","rxjs_1","local_storage_service_1","router_1","Auth","f","b","exports","AuthService","constructor","ngFirebaseAuth","ngLocalStorage","router","SignIn","AuthLogin","GoogleAuthProvider","FacebookSignIn","FacebookAuthProvider","SignOut","from","signOut","pipe","tap","remove","User","navigate","AuthState","authState","map","user","save","JSON","stringify","provider","signInWithPopup","__decorate","Injectable","providedIn"],"sources":["C:\\Users\\User\\Desktop\\k6c6KIx4wbYIMnoNorW7\\src\\app\\auth\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport * as auth from 'firebase/auth';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport firebase from 'firebase/compat';\nimport { from, map, Observable, tap } from 'rxjs';\nimport { LocalStorageService } from '@app/services/local-storage.service';\nimport { Router } from '@angular/router';\n\nexport enum Auth {\n  User = 'user',\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  constructor(\n    private ngFirebaseAuth: AngularFireAuth,\n    private ngLocalStorage: LocalStorageService,\n    private router: Router\n  ) {}\n\n  SignIn() {\n    return this.AuthLogin(new auth.GoogleAuthProvider());\n  }\n\n  FacebookSignIn() {\n    return this.AuthLogin(new auth.FacebookAuthProvider());\n  }\n\n  SignOut(): Observable<void> {\n    return from(this.ngFirebaseAuth.signOut()).pipe(\n      tap(() => {\n        this.ngLocalStorage.remove(Auth.User);\n        this.router.navigate(['login']);\n      })\n    );\n  }\n\n  AuthState() {\n    return this.ngFirebaseAuth.authState.pipe(\n      map(user => {\n        if (user) {\n          this.ngLocalStorage.save(Auth.User, JSON.stringify(user));\n          return true;\n        } else {\n          this.ngLocalStorage.remove(Auth.User);\n          return false;\n        }\n      })\n    );\n  }\n\n  private AuthLogin(\n    provider: firebase.auth.AuthProvider\n  ): Observable<firebase.auth.UserCredential> {\n    return from(this.ngFirebaseAuth.signInWithPopup(provider));\n  }\n}\n"],"mappings":"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"}